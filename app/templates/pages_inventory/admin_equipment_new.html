{% extends 'base/base_admin.html' %}
{% block title %}เพิ่มอุปกรณ์{% endblock %}
{% set CATEGORIES = ["IT & คอมพิวเตอร์","อุปกรณ์อิเล็กทรอนิกส์/วิศวกรรม","โสตทัศนศึกษา","กีฬา","สำนักงาน "] %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_equipment_add.css') }}?v=5">
{% endblock %}
{% block extra_head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_equipment_add.css') }}?v=5">
{% endblock %}

{% block content %}
<style>@import url("{{ url_for('static', filename='css/admin_equipment_add.css') }}?v=5");</style>

<div class="page">
  <div class="panel">
    <div class="card">
      <div class="card__header">
        <h1>เพิ่มอุปกรณ์</h1>
      </div>

      <div class="card__body">
        <form action="{{ url_for('inventory.admin_equipment_new') }}" method="post" enctype="multipart/form-data">

          <div class="row">
            <label>ชื่ออุปกรณ์ *</label>
            <input class="ctrl" type="text" name="name" required>
          </div>

          <div class="row">
            <label>รหัส/หมายเลข *</label>
            <input class="ctrl" type="text" name="code" required>
          </div>

          <div class="row">
            <label>หมวดหมู่</label>
            <select class="ctrl" name="category">
              <option value="">— เลือกหมวดหมู่ —</option>
              {% for c in CATEGORIES %}
                <option value="{{ c }}">{{ c }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="row">
            <label>ยี่ห้อ</label>
            <input class="ctrl" type="text" name="brand">
          </div>

          <div class="row">
            <label>รายละเอียด</label>
            <textarea class="ctrl" name="detail"></textarea>
          </div>

          <div class="row">
            <label>วันที่ซื้อ</label>
            <input class="ctrl" type="date" name="buy_date">
          </div>

          {% set s = request.form.get('status', '') %}
          <div class="row">
            <label>สถานะ</label>
            <select class="ctrl" name="status">
              <option value="">— เลือกสถานะ —</option>
              <option value="available" {{ 'selected' if s == 'available' else '' }}>พร้อมใช้งาน</option>
              <option value="in_use"    {{ 'selected' if s == 'in_use'    else '' }}>กำลังถูกยืม</option>
              <option value="broken"    {{ 'selected' if s == 'broken'    else '' }}>ชำรุด</option>
              <option value="lost"      {{ 'selected' if s == 'lost'      else '' }}>สูญหาย</option>
            </select>
          </div>

          <div class="row">
            <label>แนบรูปภาพ</label>
            <input class="ctrl" type="file" name="image" accept="image/*">
          </div>

          <div class="btns">
            <a class="btn" href="{{ url_for('inventory.admin_equipment_list') }}">ยกเลิก</a>
            <button type="submit" class="btn primary">บันทึก</button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
